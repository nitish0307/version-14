<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Channels | Data Horizon</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.1/dist/tailwind.min.css" rel="stylesheet" /> -->
    <script>
      // Light/Dark mode switcher
      function toggleTheme() {
        document.documentElement.classList.toggle("dark");
      }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
      };
    </script>
  </head>
  <body
    class="bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 transition-colors duration-300"
  >
    <!-- Navbar -->
    <!-- Navbar (include in your HTML pages like home.html, myprofile.html, etc.) -->
    <nav
      class="flex items-center justify-between px-6 py-4 backdrop-blur-lg bg-white/10 dark:bg-gray-900/10 fixed w-full z-50 border-b border-purple-500/20"
    >
      <div class="text-2xl font-bold text-purple-500">Data Horizon</div>

      <div class="space-x-8 text-lg font-medium hidden md:flex">
        <a href="home.html" class="hover:text-purple-500">Home</a>
        <a href="channels.html" class="hover:text-purple-500">Channels</a>
        <a href="#" class="hover:text-purple-500">History</a>
        <a href="#" class="hover:text-purple-500">Pricing</a>
        <a href="#" class="hover:text-purple-500">API Docs</a>
      </div>

      <div class="flex items-center space-x-4">
        <!-- Theme Toggle -->
        <button id="themeToggle" class="text-xl">ðŸŒž</button>

        <!-- Login/Signup (shown only if not logged in) -->
        <div id="authButtons" class="flex items-center space-x-3">
          <a
            href="/login.html"
            class="text-lg font-semibold hover:text-purple-500"
            >Login</a
          >
          <a
            href="/signup.html"
            class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition"
            >Sign Up</a
          >
        </div>

        <!-- User Dropdown (shown if logged in) -->
        <div id="userDropdownWrapper" class="relative hidden">
          <button
            id="userMenuBtn"
            onclick="toggleUserDropdown()"
            class="focus:outline-none"
          >
            <img
              id="navProfilePic"
              src="assets/user.png"
              class="h-8 w-8 rounded-full object-cover"
            />
          </button>
          <div
            id="userDropdown"
            class="hidden absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg z-20"
          >
            <a
              href="myprofile.html"
              class="block px-4 py-2 text-sm hover:bg-purple-100 dark:hover:bg-purple-800"
              >My Profile</a
            >
            <button
              onclick="logout()"
              class="w-full text-left px-4 py-2 text-sm hover:bg-purple-100 dark:hover:bg-purple-800"
            >
              Logout
            </button>
          </div>
        </div>
      </div>
    </nav>

    <section class="pt-28 pb-16 text-center">
      <h1 class="text-5xl font-extrabold text-purple-600 mb-4">
        Manage Your Channels
      </h1>
      <p class="text-lg text-gray-600 dark:text-gray-400 max-w-xl mx-auto">
        View, manage, and create channels to organize your IoT devices & data
        streams efficiently.
      </p>
    </section>

    <!-- 3. Create Channel CTA -->
    <section class="text-center py-16">
      <h2 class="text-3xl font-bold mb-4">Create a New Channel</h2>
      <p class="text-gray-500 dark:text-gray-400 mb-6">
        Start organizing your data into structured streams.
      </p>
      <button
        onclick="toggleForm()"
        class="px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 transition shadow-lg shadow-purple-700/30"
      >
        + New Channel
      </button>

      <!-- Collapsible Form -->
      <div
        id="channelForm"
        class="max-w-3xl mx-auto mt-10 hidden transition-all duration-500 ease-in-out"
      >
        <form
          class="bg-white/20 dark:bg-gray-900/40 backdrop-blur-lg p-8 rounded-2xl border border-purple-500/20 space-y-6 text-left"
        >
          <!-- Channel Name -->
          <div>
            <label class="block text-lg font-semibold mb-1"
              >Channel Name<span class="text-red-500">*</span></label
            >
            <input
              type="text"
              required
              class="w-full p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30 focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="e.g. Weather Station"
            />
          </div>

          <!-- Description -->
          <div>
            <label class="block text-lg font-semibold mb-1">Description</label>
            <textarea
              rows="3"
              class="w-full p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30 focus:outline-none focus:ring-2 focus:ring-purple-500"
              placeholder="Brief description..."
            ></textarea>
          </div>

          <!-- Metadata -->
          <div>
            <label class="block text-lg font-semibold mb-1">Metadata</label>
            <input
              type="text"
              class="w-full p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
              placeholder="Any relevant data..."
            />
          </div>

          <!-- Tags -->
          <div>
            <label class="block text-lg font-semibold mb-1"
              >Tags (comma-separated)</label
            >
            <input
              type="text"
              class="w-full p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
              placeholder="e.g. temperature,humidity,IoT"
            />
          </div>

          <!-- Fields -->
          <!-- <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            ${[...Array(8)].map((_, i) => ``).join("")}
            <div>
              <label class="block text-sm font-medium mb-1"
                >Field ${i + 1}</label
              >
              <input
                type="text"
                class="w-full p-2 rounded-lg bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
                placeholder="e.g. Temperature"
              />
            </div>
            
          </div> -->

          <!-- Show Location Toggle -->
          <div class="flex items-center space-x-4">
            <label class="text-lg font-semibold">Show Location</label>
            <input
              type="checkbox"
              id="locationToggle"
              onclick="toggleLocation()"
              class="w-5 h-5 text-purple-600 rounded focus:ring-2 focus:ring-purple-500"
            />
          </div>

          <!-- Location Fields -->
          <div
            id="locationFields"
            class="grid grid-cols-1 sm:grid-cols-3 gap-4 hidden mt-4"
          >
            <input
              type="text"
              class="p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
              placeholder="Latitude"
            />
            <input
              type="text"
              class="p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
              placeholder="Longitude"
            />
            <input
              type="text"
              class="p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
              placeholder="Elevation (optional)"
            />
          </div>

          <!-- API Keys Section -->
          <!-- <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mt-6">
            <div>
              <label class="block text-lg font-semibold mb-1"
                >Write API Key</label
              >
              <input
                type="text"
                class="w-full p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
                placeholder="e.g. XXXXXXXXXXXXXXXX"
              />
            </div>
            <div>
              <label class="block text-lg font-semibold mb-1"
                >Read API Key</label
              >
              <input
                type="text"
                class="w-full p-3 rounded-xl bg-white/10 dark:bg-gray-800 text-gray-600 dark:text-gray-400 placeholder-gray-400 border border-purple-400/30"
                placeholder="e.g. YYYYYYYYYYYYYYYY"
              />
            </div>
          </div> -->

          <!-- Submit Button -->
          <div class="pt-6">
            <button
              type="submit"
              class="px-6 py-3 bg-purple-600 text-gray-600 dark:text-gray-400 font-semibold rounded-xl hover:bg-purple-700 transition shadow-md shadow-purple-700/30"
            >
              Create Channel
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- 4. Footer -->
    <footer
      class="backdrop-blur-md bg-white/10 dark:bg-gray-900/10 border-t border-purple-800/20 py-8 mt-20"
    >
      <div
        class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center text-center md:text-left space-y-4 md:space-y-0"
      >
        <div>
          <h3 class="text-2xl font-bold text-purple-500">Data Horizon</h3>
          <p class="text-sm text-gray-600 dark:text-gray-400">
            Empowering IoT with intelligence & insight.
          </p>
        </div>
        <div class="flex space-x-6 text-sm text-gray-600 dark:text-gray-400">
          <a href="/" class="hover:text-purple-400 transition">Home</a>
          <a href="/#powerful-features" class="hover:text-purple-400 transition"
            >Features</a
          >
          <a href="/#how-it-works" class="hover:text-purple-400 transition"
            >How It Works</a
          >
          <a href="/#cta" class="hover:text-purple-400 transition">Start Now</a>
        </div>
        <div class="text-sm text-gray-600 dark:text-gray-400">
          Â© <span id="year"></span> Data Horizon. All rights reserved.
        </div>
      </div>
    </footer>

    <script>
      // Theme toggle
      const toggle = document.getElementById("themeToggle");
      toggle.addEventListener("click", () => {
        document.documentElement.classList.toggle("dark");
        toggle.textContent = document.documentElement.classList.contains("dark")
          ? "ðŸŒ™"
          : "ðŸŒž";
      });

      function logout() {
        localStorage.setItem("loggedIn", "false");
        location.reload();
      }

      // Toggle user dropdown
      function toggleUserDropdown() {
        const dropdown = document.getElementById("userDropdown");
        dropdown.classList.toggle("hidden");
      }

      // Set profile picture if uploaded
      const savedImg = localStorage.getItem("profileImage");
      const navPic = document.getElementById("navProfilePic");

      if (savedImg && navPic) {
        navPic.src = savedImg;
      }

      // Logout function
      function logout() {
        localStorage.removeItem("loggedIn");
        localStorage.removeItem("profileImage");
        location.href = "/login.html";
      }

      // Show dropdown only if logged in
      if (localStorage.getItem("loggedIn")) {
        document
          .getElementById("userDropdownWrapper")
          .classList.remove("hidden");
      }

      function toggleForm() {
        const form = document.getElementById("channelForm");
        form.classList.toggle("hidden");
      }

      function toggleLocation() {
        const locationFields = document.getElementById("locationFields");
        locationFields.classList.toggle("hidden");
      }
    </script>
  </body>
</html>
